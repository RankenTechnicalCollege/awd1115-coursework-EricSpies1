@model PersonalFinanceTracker.Models.Transaction

@{
    ViewData["Title"] = "Delete Transaction";
}

<h2 class="mb-3 text-danger">Delete Transaction</h2>
<h5>Are you sure you want to delete this transaction?</h5>

<div class="border rounded p-3 mb-3 bg-light">
    <dl class="row">
        <dt class="col-sm-3">Date</dt>
        <dd class="col-sm-9">@Model.Date.ToShortDateString()</dd>

        <dt class="col-sm-3">Payee</dt>
        <dd class="col-sm-9">@Model.Payee</dd>

        <dt class="col-sm-3">Type</dt>
        <dd class="col-sm-9">@Model.Type</dd>

        <dt class="col-sm-3">Account</dt>
        <dd class="col-sm-9">@Model.Account?.Name</dd>

        <dt class="col-sm-3">Amount</dt>
        <dd class="col-sm-9">@Model.Amount.ToString("C")</dd>

        @if (!string.IsNullOrWhiteSpace(Model.Notes))
        {
            <dt class="col-sm-3">Notes</dt>
            <dd class="col-sm-9">@Model.Notes</dd>
        }

        <dt class="col-sm-3">Categories</dt>
        <dd class="col-sm-9">
            @if (Model.TransactionCategories.Any())
            {
                foreach (var tc in Model.TransactionCategories)
                {
                    <span class="badge bg-secondary me-1">@tc.Category?.Name</span>
                }
            }
            else
            {
                <em>—</em>
            }
        </dd>
    </dl>
</div>

<form asp-action="DeleteConfirmed"
      asp-route-id="@Model.Id"
      asp-route-slug="@Model.Slug"
      method="post">
    @Html.AntiForgeryToken()

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-danger">Delete</button>
        <a asp-action="Index"
           asp-controller="Transactions"
           asp-area=""
           class="btn btn-secondary">
            Cancel
        </a>
    </div>
</form>
